<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Macro Tracker</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    input {
      width: 90px;
      margin: 5px 10px 5px 0;
    }
    .section {
      margin-bottom: 20px;
    }
    .row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
<div>
  <h3>Set Daily Targets</h3>
  Calories: <input type="number" id="targetCalories"><br>
  Protein (g): <input type="number" id="targetProtein"><br>
  Carbs (g): <input type="number" id="targetCarbs"><br>
  Fat (g): <input type="number" id="targetFat"><br>
  <button onclick="setTargets()">Set Targets</button>
</div>

<hr>

<div id="totalsDisplay"></div>

  
  <h2>ðŸ“ˆ Running Totals</h2>
  <div class="section" id="totals">
    Calories: 0<br>
    Protein: 0g<br>
    Carbs: 0g<br>
    Fat: 0g
  </div>

  <h2>âž• Add Intake</h2>
  <div class="section">
    <div class="row">
      Calories: <input id="addCalories" type="number">
      Protein: <input id="addProtein" type="number">
    </div>
    <div class="row">
      Carbs: <input id="addCarbs" type="number">
      Fat: <input id="addFat" type="number">
      <button onclick="addIntake()">Add</button>
    </div>
  </div>

  <button onclick="resetDay()">ðŸ”„ Reset Day</button>

<script>
  let totals = { calories: 0, protein: 0, carbs: 0, fat: 0 };
  let targets = { calories: "", protein: "", carbs: "", fat: "" };

  function loadData() {
    const savedTotals = localStorage.getItem("macroTotals");
    const savedTargets = localStorage.getItem("macroTargets");

    if (savedTotals) totals = JSON.parse(savedTotals);
    if (savedTargets) targets = JSON.parse(savedTargets);

    document.getElementById("targetCalories").value = targets.calories || "";
    document.getElementById("targetProtein").value = targets.protein || "";
    document.getElementById("targetCarbs").value = targets.carbs || "";
    document.getElementById("targetFat").value = targets.fat || "";

    updateDisplay();
  }

  function saveTotals() {
    localStorage.setItem("macroTotals", JSON.stringify(totals));
  }

  function setTargets() {
    targets.calories = document.getElementById("targetCalories").value;
    targets.protein = document.getElementById("targetProtein").value;
    targets.carbs = document.getElementById("targetCarbs").value;
    targets.fat = document.getElementById("targetFat").value;
    localStorage.setItem("macroTargets", JSON.stringify(targets));
    updateDisplay();
  }

  function updateDisplay() {
    document.getElementById('totalsDisplay').innerHTML = `
      <h3>Today's Intake</h3>
      Calories: ${totals.calories} / ${targets.calories || "â€”"}<br>
      Protein: ${totals.protein}g / ${targets.protein || "â€”"}g<br>
      Carbs: ${totals.carbs}g / ${targets.carbs || "â€”"}g<br>
      Fat: ${totals.fat}g / ${targets.fat || "â€”"}g
    `;
  }

  function addIntake() {
    totals.calories += Number(document.getElementById('addCalories').value) || 0;
    totals.protein += Number(document.getElementById('addProtein').value) || 0;
    totals.carbs += Number(document.getElementById('addCarbs').value) || 0;
    totals.fat += Number(document.getElementById('addFat').value) || 0;
    saveTotals();
    updateDisplay();
  }

  function resetDay() {
    totals = { calories: 0, protein: 0, carbs: 0, fat: 0 };
    targets = { calories: "", protein: "", carbs: "", fat: "" };
    localStorage.removeItem("macroTotals");
    localStorage.removeItem("macroTargets");

    document.getElementById("targetCalories").value = "";
    document.getElementById("targetProtein").value = "";
    document.getElementById("targetCarbs").value = "";
    document.getElementById("targetFat").value = "";

    updateDisplay();
  }

  document.addEventListener("DOMContentLoaded", loadData);
</script>



</body>
</html>
